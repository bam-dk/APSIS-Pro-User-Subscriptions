/*! apsis-pro-user-subscriptions - v1.0.0 - 2016-12-05 */jQuery(document).ready(function(a){function b(b,c,d,e,f,g){var h={action:"apsispro_us_action",listid:d,email:e,name:f,mode:b};a.post(apsispro_us_ajax_object.ajax_url,h,function(a){if(void 0!==a||a!==-1){var b=jQuery.parseJSON(a);1===b.Code?(c.next(".apsispro-us-signup-response").text(""),window.location.reload()):b.Message.indexOf("is not a valid e-mail address")>-1?c.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_email):c.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_standard)}else c.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_standard)})}function c(b,c,d){var e={action:"apsispro_us_action",listid:c,email:d,mode:"remove"};a.post(apsispro_us_ajax_object.ajax_url,e,function(a){if(void 0!==a||a!==-1){var c=jQuery.parseJSON(a);1===c.Code?b.next(".apsispro-us-signup-response").text(""):c.Message.indexOf("is not a valid e-mail address")>-1?b.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_email):b.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_standard)}else b.next(".apsispro-us-signup-response").text(apsispro_us_ajax_object.error_msg_standard)})}a.ajaxSetup({async:!1}),a(".apsispro-user-subscription-form").submit(function(d){var e=a(this),f=e.find(".apsispro-us-signup-email").val(),g=e.find(".apsispro-us-signup-name").val(),h=e.find(".apsispro-us-signup-mailinglist-id");if(h.length>0)b("register",e,h.val(),f,g,!1);else{var i=!0;e.find(".apsispro-us-signup-mailinglists-id").each(function(){a(this).is(":checked")?(b("register",e,a(this).val(),f,g,!1),i=!1):c(e,a(this).val(),f)}),i?""!==apsispro_us_ajax_object.default_list&&b("register",e,apsispro_us_ajax_object.default_list,f,g,!0):""!==apsispro_us_ajax_object.default_subscriber_list&&b("default-sub",e,apsispro_us_ajax_object.default_subscriber_list,f,g,!0)}return!1})});